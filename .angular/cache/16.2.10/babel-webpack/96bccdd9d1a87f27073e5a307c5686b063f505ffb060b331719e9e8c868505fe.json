{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { DragAndDropDirective } from './consts/directives/drag-and-drop.directive';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nconst _c0 = [\"input\"];\nfunction DragAndDropComponent_ng_template_3_Template(rf, ctx) {}\nfunction DragAndDropComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function DragAndDropComponent_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(2);\n      return i0.ɵɵresetView(_r0.click());\n    });\n    i0.ɵɵtext(1, \" Upload another \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DragAndDropComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function DragAndDropComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.resetImage());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction DragAndDropComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵlistener(\"filesChange\", function DragAndDropComponent_ng_template_7_Template_div_filesChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onFilesChanges($event));\n    })(\"click\", function DragAndDropComponent_ng_template_7_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(2);\n      return i0.ɵɵresetView(_r0.click());\n    });\n    i0.ɵɵelementStart(1, \"div\", 11);\n    i0.ɵɵelement(2, \"div\", 12);\n    i0.ɵɵelementStart(3, \"label\", 13)(4, \"span\", 14);\n    i0.ɵɵprojection(5, 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 15);\n    i0.ɵɵtext(7, \"Drop files here\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction DragAndDropComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelement(1, \"img\", 17, 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r7.imagePreview, i0.ɵɵsanitizeUrl);\n  }\n}\nconst _c1 = [\"*\", [[\"\", \"body\", \"\"]]];\nconst _c2 = [\"*\", \"[body]\"];\nexport class DragAndDropComponent {\n  constructor(cdr) {\n    this.cdr = cdr;\n    this.multiple = false;\n    this.isMedia = false;\n  }\n  ngOnInit() {\n    this.selectedFiles = [];\n  }\n  onFilesChanges(files) {\n    this.onChange && this.onChange([files[0]]);\n    this.onTouch && this.onTouch();\n    this.readFile(files[0]);\n  }\n  onInputChange(input) {\n    if (input.files && input.files[0]) {\n      this.onFilesChanges(Object.values(input.files));\n      this.readFile(input.files[0]);\n    }\n  }\n  resetImage() {\n    this.selectedFiles = [];\n    this.imagePreview = undefined;\n    this.inputRef.nativeElement.value = '';\n    this.onChange && this.onChange([]);\n    this.onTouch && this.onTouch();\n  }\n  writeValue(files) {\n    this.selectedFiles = files;\n  }\n  registerOnChange(fn) {\n    this.onChange = fn;\n  }\n  registerOnTouched(fn) {\n    this.onTouch = fn;\n  }\n  readFile(file) {\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.imagePreview = reader.result;\n      this.cdr.detectChanges();\n    };\n    reader.readAsDataURL(file);\n  }\n  static #_ = this.ɵfac = function DragAndDropComponent_Factory(t) {\n    return new (t || DragAndDropComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DragAndDropComponent,\n    selectors: [[\"app-drag-and-drop\"]],\n    viewQuery: function DragAndDropComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputRef = _t.first);\n      }\n    },\n    inputs: {\n      multiple: \"multiple\",\n      acceptTypes: \"acceptTypes\",\n      isMedia: \"isMedia\"\n    },\n    standalone: true,\n    features: [i0.ɵɵProvidersFeature([{\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: DragAndDropComponent,\n      multi: true\n    }]), i0.ɵɵStandaloneFeature],\n    ngContentSelectors: _c2,\n    decls: 11,\n    vars: 5,\n    consts: [[1, \"wrapper\"], [\"type\", \"file\", \"name\", \"file\", \"id\", \"file\", 3, \"multiple\", \"accept\", \"change\"], [\"input\", \"\"], [3, \"ngTemplateOutlet\"], [\"class\", \"btn btn-secondary btn-sm\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"close-button\", 3, \"click\", 4, \"ngIf\"], [\"dropzoneTemplate\", \"\"], [\"imagePreviewTemplate\", \"\"], [1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"click\"], [1, \"close-button\", 3, \"click\"], [\"drag-n-drop\", \"\", 1, \"dropzone\", 3, \"filesChange\", \"click\"], [1, \"text-wrapper\"], [1, \"icon\"], [1, \"drag-text-wrapper\"], [1, \"drag-text\"], [1, \"drag-text-enter\"], [1, \"image-wrapper\"], [3, \"src\"], [\"img\", \"\"]],\n    template: function DragAndDropComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c1);\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"input\", 1, 2);\n        i0.ɵɵlistener(\"change\", function DragAndDropComponent_Template_input_change_1_listener($event) {\n          return ctx.onInputChange($event.target);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, DragAndDropComponent_ng_template_3_Template, 0, 0, \"ng-template\", 3);\n        i0.ɵɵprojection(4);\n        i0.ɵɵtemplate(5, DragAndDropComponent_button_5_Template, 2, 0, \"button\", 4);\n        i0.ɵɵtemplate(6, DragAndDropComponent_button_6_Template, 1, 0, \"button\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, DragAndDropComponent_ng_template_7_Template, 8, 0, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(9, DragAndDropComponent_ng_template_9_Template, 3, 1, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r4 = i0.ɵɵreference(8);\n        const _r6 = i0.ɵɵreference(10);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"multiple\", ctx.multiple)(\"accept\", ctx.acceptTypes);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.imagePreview ? _r6 : _r4);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.imagePreview);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.imagePreview);\n      }\n    },\n    dependencies: [CommonModule, i1.NgIf, i1.NgTemplateOutlet, DragAndDropDirective],\n    styles: [\".btn[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-radius: 100px;\\n  border: 0;\\n  outline: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  cursor: pointer;\\n  font-family: \\\"GeneralSansVariable\\\";\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: 600;\\n  line-height: 20px;\\n  letter-spacing: 0.3px;\\n  color: #ffffff;\\n  transition: 200ms all;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #1b585f;\\n}\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: #34736e;\\n}\\n.btn-primary[_ngcontent-%COMP%]:active {\\n  background-color: #0c494f;\\n}\\n.btn-primary[_ngcontent-%COMP%]:disabled {\\n  background-color: #ced1d1;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  border: 1px solid #1b585f;\\n  background-color: #ffffff;\\n  color: #1b585f;\\n}\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  border: 1px solid #34736e;\\n  color: #34736e;\\n}\\n.btn-secondary[_ngcontent-%COMP%]:active {\\n  border: 1px solid #0c494f;\\n  color: #0c494f;\\n}\\n.btn-secondary[_ngcontent-%COMP%]:disabled {\\n  border: 1px solid #ced1d1;\\n  color: #ced1d1;\\n}\\n.btn-secondary.btn-sm[_ngcontent-%COMP%] {\\n  font-family: \\\"GeneralSansVariable\\\";\\n  color: #1b585f;\\n  font-size: 14px;\\n  font-style: normal;\\n  font-weight: 600;\\n  line-height: 16px;\\n  letter-spacing: 0.4px;\\n}\\n\\n.btn-lg[_ngcontent-%COMP%] {\\n  padding: 14px 32px;\\n}\\n\\n.btn-md[_ngcontent-%COMP%] {\\n  padding: 10px 28px;\\n}\\n\\n.btn-sm[_ngcontent-%COMP%] {\\n  padding: 8px 24px;\\n}\\n\\n.wrapper[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 16px;\\n  align-items: center;\\n  position: relative;\\n}\\n.wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%] {\\n  width: 290px;\\n  padding: 40px;\\n  border-radius: 16px;\\n  border: 1px dashed #ced1d1;\\n  background: #ffffff;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: relative;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  min-height: 104px;\\n  display: grid;\\n  grid: 48px 1fr/100%;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  background: url('icon-cloud-storage-upload-gray.svg');\\n  background-position: center;\\n  background-repeat: no-repeat;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .drag-text-wrapper[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: flex-start;\\n  cursor: pointer;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .drag-text-wrapper[_ngcontent-%COMP%]   .drag-text[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-family: \\\"GeneralSansVariable\\\";\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: 400;\\n  line-height: 24px;\\n  letter-spacing: 0.2px;\\n  color: #131414;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .drag-text-wrapper[_ngcontent-%COMP%]   .drag-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  font-family: \\\"GeneralSansVariable\\\";\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: 600;\\n  line-height: 24px;\\n  letter-spacing: 0.3px;\\n  color: #1b585f;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .drag-text-wrapper[_ngcontent-%COMP%]   .drag-text-enter[_ngcontent-%COMP%] {\\n  text-align: center;\\n  display: none;\\n  font-family: \\\"GeneralSansVariable\\\";\\n  font-size: 16px;\\n  font-style: normal;\\n  font-weight: 600;\\n  line-height: 24px;\\n  letter-spacing: 0.3px;\\n  color: #34736e;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone.dragenter[_ngcontent-%COMP%] {\\n  border: 1px dashed #34736e;\\n  background: #f2fcf2;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone.dragenter[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] {\\n  background: url('icon-cloud-storage-upload-green.svg');\\n  background-position: center;\\n  background-repeat: no-repeat;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone.dragenter[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .drag-text-wrapper[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: flex-start;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone.dragenter[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .drag-text-wrapper[_ngcontent-%COMP%]   .drag-text[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n.wrapper[_ngcontent-%COMP%]   .dropzone.dragenter[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]   .drag-text-wrapper[_ngcontent-%COMP%]   .drag-text-enter[_ngcontent-%COMP%] {\\n  display: block;\\n}\\n.wrapper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-radius: 16px;\\n  overflow: hidden;\\n}\\n.wrapper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n}\\n.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n  width: 160px;\\n  height: 32px;\\n}\\n.wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 8px;\\n  right: 8px;\\n  width: 32px;\\n  height: 32px;\\n  background-color: #ed4b34;\\n  border: 0;\\n  outline: 0;\\n  border-radius: 100px;\\n  background: url('icon-x-close.svg'), #ed4b34;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  cursor: pointer;\\n  display: none;\\n}\"]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}