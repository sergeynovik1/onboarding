{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport { io } from 'socket.io-client';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/storage.service\";\nexport class SmfaVerificationService {\n  constructor(storageService) {\n    this.storageService = storageService;\n    this.sockerUrl = environment.socketUrl;\n    this.socketSubject = new BehaviorSubject(null);\n  }\n  getSmfaVerificationStream() {\n    const accessToken = this.storageService.getTokens()?.access;\n    const socket = io(`${this.sockerUrl}?accessToken=${accessToken}`);\n    return new Observable(observer => {\n      socket.on('smfa-verification-completed', data => observer.next(data));\n      return () => {\n        socket.disconnect();\n      };\n    });\n  }\n  static #_ = this.ɵfac = function SmfaVerificationService_Factory(t) {\n    return new (t || SmfaVerificationService)(i0.ɵɵinject(i1.StorageService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SmfaVerificationService,\n    factory: SmfaVerificationService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}